<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/layout.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>Cellosoft Alt Framework : AltServlet</title>
<!-- InstanceEndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- InstanceBeginEditable name="head" -->


<!--Fireworks 8 Dreamweaver 8 target.  Created Sun Jun 11 16:05:11 GMT-0600 (Mountain Standard Time) 2006-->
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- InstanceEndEditable -->
</head>
<body bgcolor="#ffffff">
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><a href="./"><img src="images/logo.png" width="481" height="119" border="0" id="logo" alt="cellosoft Alt : the Alternative web framework" /></a> </p>
<table width="780" border="0" align="center" cellpadding="10" cellspacing="0">
  <tr>
    <td width="540" valign="top" class="main"><!-- InstanceBeginEditable name="body" -->
      <h1>AltServlet</h1>
      <p>AltServlet is a Java servlet that uses Mozilla's <a href="http://www.mozilla.org/rhino/">Rhino library</a> to create a platform for developing JavaScript-based web applications.</p>
      <p>It implements a solid module system that parallels Java's own package system,
        making it easy to write clean modular JavaScript code.</p>
      <p>The primary purpose is a basis for the the Alt Framework, but it is not limited
        to this.</p>
      <h2>Rationale</h2>
      <p>My original intention with the Alt Framework was to build on top of <a href="http://www.helma.org/">Helma Object Publisher</a>, a similar JavaScript web framework based on Java and Rhino, but I soon found it too limiting. </p>
      <p>As a challenge, I decided to see how difficult it would be to write a basic Java Servlet that could serve JavaScript files. After two days of coding, I had functional prototype.</p>
      <p>After fine tuning the module system for JavaScript, I decided to stick with it. </p>
      <p><a href="module-system.html">Read about the module system</a></p>
      <h2>HttpServlet </h2>
      <p>The purpose of the Alt Framework is not to reinvent the wheel (which on the surface seems hypocritical). As such, AltServlet is based on the robust <a href="http://java.sun.com/products/servlet/">Java Servlet technology</a>. </p>
      <p>Aside from the module system for loading JavaScript files and resources, AltServlet provides a transparent interface to the Java Servlet functions.</p>
      <p>With every page request is evaluated in a scope containing the request and response Java objects, of types <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html">HttpServletRequest</a> and <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html">HttpServletResponse</a>, respectively. </p>
      <p>Thanks to Rhino's automatic Java wrapping, these Java objects can be used as if they were native JavaScript objects. </p>
      <h2>Scripting in AltServlet </h2>
      <p>Rhino provides an interesting mix of Java and JavaScript.  While you can write
        pure JavaScript with AltServlet, the true power lies in using its ability to script Java.</p>
      <p>Rhino makes all Java classes and functions transparent in JavaScript, and in
        almost all cases, you can simply write Java code verbatim in JavaScript.  To 
        access classes you can either use the Packages class or the global java 
        package.</p>
      <p>Examples:</p>
      <pre>var d = new java.awt.Dimension(100,200);</pre>
      <p>Or you can make aliases:</p>
      <pre>var Dimension = java.awt.Dimension;
var d = new Dimension(100,200);</pre>
      <p>You can methods and access member variables just as you would in Java:</p>
      <pre>var area = d.width * d.height;
d.setSize(800,600);</pre>
      <p>In addition to regular syntax, Rhino adds a few convenience features for JavaBean-style access.  For example, if a class defines methods such as getXxx and 
        setXxx, you can access them like member variables.</p>
      <pre>var url = new java.net.URL(&quot;http://marcello.cellosoft.com/&quot;);
var port = url.port; <span class="comment">// same as url.getPort()</span></pre>
      <p>Useful links:</p>
      <ul>
        <li><a href="http://www.mozilla.org/rhino/ScriptingJava.html">Rhino's tutorial on Scripting Java </a></li>
        <li><a href="http://developer.mozilla.org/en/docs/JavaScript">JavaScript Reference and Documentation</a></li>
        <li><a href="http://java.sun.com/docs/books/tutorial/">The Java Tutorial</a></li>
        <li><a href="http://java.sun.com/j2se/1.5.0/docs/api/">Java API Documentation</a> </li>
        <li><a href="http://java.sun.com/javaee/5/docs/api/">Java EE/Servlets API documentation </a> </li>
      </ul>
      <h2>AltServlet Dynamic Scope</h2>
      <p>AltServlet implements dynamic scope.  This means allows modules to be defined
        in their own scope and for separate requests to each have their own scope.</p>
      <p>This can be illustrated as follows:<br />
          <img src="images/scopes.png" alt="RhinoServlet Scopes" width="440" height="239" /></p>
      <p>You can read any variable from a parent scope as if it were a local variable, but any variable or function you define will be defined in the current scope.
        This will shadow any variable or function in a higher scope, but not 
        replace them.</p>
      <p>You can access the global scope directly with the <code>global</code> variable. </p>
      <p>You can access modules by writing <code>module.submodule</code>. Submodule scopes are not children of their parent modules, so a script in foo.bar cannot access definitions in the foo module without prefixing them with <code>foo.</code>. </p>
      <p><a href="http://www.mozilla.org/rhino/scopes.html">More about Rhino's dynamic scope feature </a> </p>
    <!-- InstanceEndEditable --></td>
    <td rowspan="2" valign="top"><ul class="menu">
        <li><a href="./">About</a></li>
      <li><a href="download.html">Download</a></li>
      <li><a href="documentation.html">Documentation</a></li>
      <li><a href="contribute.html">Contribute</a><br />
        <a href="license.html">License</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul></td>
  </tr>
  <tr>
    <td align="right" valign="top" class="small">page last updated: 
    <!-- #BeginDate format:fcAm1 -->Thursday, February 14, 2008<!-- #EndDate --></td>
  </tr>
</table>
<p align="right"><a href="http://www.cellosoft.com/"><img src="images/copyright.png" width="319" height="19" border="0" id="copyright" alt="copyright Â© 2006 cellosoft" /></a></p>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-500492-2");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
<!-- InstanceEnd --></html>
